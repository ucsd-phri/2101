<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>SONA Study</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        
        <script src="../jsLibs/jquery-3-6-0-min.js"></script>
        <script src="../jsLibs/ajax.js"></script>
        <script src="../jsLibs/bootstrap-min.js"></script>
        <script src="../jsLibs/TimTurkTools.js"></script>
        
        <script src="../jsPsych/jspsych-6.3.1/jspsych.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-iat-html2.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-survey-multi-select.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-survey-text.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-survey-html-form.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-html-button-response.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-html-keyboard-response.js"></script>
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-ranking.js"></script>
        <link href="../jsPsych/jspsych-6.3.1/css/jspsych2.css" rel="stylesheet" type="text/css"></link>
<!--         <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script> -->
        <script src="../jsPsych/jspsych-6.3.1/plugins/jspsych-preload.js"></script>
        
        <style>
          .container {
            width: 400px; /* Set width of the container */
            border: 1px solid #ccc; /* Just for demonstration */
            padding: 10px; /* Add some padding */
          }
          
          .image {
            float: left; /* Float the image to the left */
            margin-right: 10px; /* Add some space between image and text */
          }
        </style>
    </head>
    <body>
        <script>
          Shuffle = function (o) {
            for (var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
            return o;
          };

          var startTime = new Date();

          var timeline = [];

          var intro = {
            type: 'html-button-response',
            stimulus: "Through recent technological advances in the last 50 years, there are more ways than ever to make money now.<br>In this part of the task, we are interested in people's thoughts about different professions.<br><br>",
            choices: ["Continue"],
            data: {type: "intro"}
            };

          timeline.push(intro);

          var iat_instr = {
            type: 'html-button-response',
            stimulus: 'First, you will complete an Implicit Association Test (IAT)<br>in which you will be asked to sort words into groups as fast as you can.<br><br>',
            choices: ["Continue"],
            data: {type: "iat_instr"}
            };

          timeline.push(iat_instr);

        jsPsych.data.addProperties({userAgent: navigator.userAgent,
          startTime: startTime,
          // randCode: randCode
        });

        jsPsych.init({
              timeline: timeline,
              // preload_images: preloadImages,
            show_progress_bar: true,
              on_finish: function () {
              var endTime = new Date();
              jsPsych.data.addProperties({endTime: endTime});
                    jsPsych.data.displayData();
              // SaveData(jsPsych.data.get().csv()); // .json()?
            }
            });

            function SaveData(curData) {
          var dataToServer = {
            'id': randCode,
            'experimenter': 'Ethan',
            'experimentName': 'repeated_admin_pilot_v1',
            'curData': curData
          }; 
            };

    </script>
  </body>
</html>
